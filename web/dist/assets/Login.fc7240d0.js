import{u as x,a as w,r as i,b as s,c as h,w as V,o as N,d as k,e as l,f as t,g as d,h as y,i as C,E as B}from"./index.a78e2dbf.js";import{p as q}from"./api.ae6dea3f.js";const L=C("div",{style:{margin:"20px"}},null,-1),D={__name:"Login",setup(M){const m=x(),p=w(),o=i({userName:"admin",password:"admin123"}),_=i({userName:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"},{min:3,max:20,message:"\u957F\u5EA6\u5728 3 \u5230 20 \u4E2A\u5B57\u7B26",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{min:6,max:16,message:"\u957F\u5EA6\u5728 6 \u5230 16 \u4E2A\u5B57\u7B26",trigger:"blur"}]}),c=()=>{q("/user/login",o.value).then(a=>{if(a.data.result){let e=a.data.data;e.token=a.data.token,e.isAuth=!0,p.setAuthenticated(e),m.push("/home")}else B.alert(a.data.errMsg,"\u63D0\u793A",{})})};return(a,e)=>{const g=s("el-text"),u=s("el-input"),r=s("el-form-item"),f=s("el-button"),v=s("el-form"),b=h("loading");return V((N(),k(v,{model:o.value,rules:_.value,ref:"ruleForm",class:"login-container","label-position":"left","label-width":"80px","status-icon":""},{default:l(()=>[t(g,{class:"mx-1",size:"large"},{default:l(()=>[d("\u7CFB\u7EDF\u767B\u5F55")]),_:1}),L,t(r,{label:"\u7528\u6237\u540D",prop:"userName"},{default:l(()=>[t(u,{modelValue:o.value.userName,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value.userName=n),placeholder:"\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u5BC6\u7801",prop:"password"},{default:l(()=>[t(u,{type:"password",modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=n=>o.value.password=n),placeholder:"\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),t(r,null,{default:l(()=>[t(f,{type:"primary",onClick:y(c,["prevent"])},{default:l(()=>[d("Login")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])),[[b,a.loading]])}}};export{D as default};
